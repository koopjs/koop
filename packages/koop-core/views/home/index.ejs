
<div class="container" style="padding:10px;">
  <div class="page-header">
    <h2> Koop <small>GeoJSON as FeatureServices</small></h2>
  </div>
  <div class="container">
    <p>Koop helps access public geojson files as Esri FeatureServices. Such services can be used within various Esri technologies.</p>
    <div class="container">
      <div class="row">
        <div class="col-lg-4 highlight">
          <div class="container">
            <h2>View a gist</h2>
            <input type="text" id="gist" class="sample-input form-control" value="6178185" placeholder="Enter a gist id">
            <button class="btn btn-primary pull-right" onClick="submitGist()">Load</button>
          </div>
        </div>
        <div class="col-lg-4 highlight">
          <div class="container">
            <h2>View github geojson</h2>
            <input type="text" id="github" class="sample-input form-control" value="chelm/grunt-geo/forks" placeholder="Path to a geojson file: user/repo/file">
            <button class="btn btn-primary pull-right" onClick="submitGithub()">Load</button>
          </div>
        </div>
      </div>   
    </div>
    <!--div class="container">
      <h2>Examples</h2>
      <hr/>
      example gist links
    </div>
    <div class="container">
      <h2>Docs</h2>
      <hr/>
      <h3>FeatureService endpoints:</h3>
        /FeatureServer 
        /FeatureServer/0
        /FeatureServer/query
      <h3>Support query params</h3>
    </div>
  </div-->
<div>

<script>

  function submitGist(){
    var val = document.getElementById('gist').value;
    if ( val ) {
      go( '/gist/' + val + '/preview' );
    }
  }

  function submitGithub(){
    var val = document.getElementById('github').value.split('/');
    var user = val.shift();
    var repo = val.shift();
    if ( val.length > 1){
      var path = val.join('::');
    } else {
      var path = val[0];
    }
    if ( user && repo && path ) {
      go( '/github/' + [ user, repo, path ].join('/') + '/preview' );
    }
  }

  function go( path ){
    location.href = path; 
  }

</script>

